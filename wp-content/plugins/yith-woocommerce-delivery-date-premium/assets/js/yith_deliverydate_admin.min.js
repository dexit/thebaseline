jQuery(function(o){o.fn.checkRequiredFields=function(){var e=o(this).find(":input.yith-required-field"),a="yes";return o.each(e,function(e,d){var t=o(d).val();""===t||null===t?((o(d).hasClass("wc-enhanced-select")||o(d).hasClass("yith-post-search")||o(d).hasClass("yith-term-search")?o(d).parent().find(".select2.select2-container"):o(d)).addClass("ywcdd_required_field"),a="no"):(o(d).hasClass("wc-enhanced-select")||o(d).hasClass("yith-post-search")||o(d).hasClass("yith-term-search")?o(d).parent().find(".select2.select2-container"):o(d)).removeClass("ywcdd_required_field")}),a},o('.ywcdd_processing_type input[type="radio"]').on("change",function(e){var t=o(this);o.each(["ywcdd_delivery_mode","ywcdd_fee_is_taxable","yith_delivery_date_format"],function(e,d){d=o("#"+d).parents("tr");"product"===t.val()&&t.is(":checked")?d.addClass("yith-disabled"):d.removeClass("yith-disabled")}),("product"!==t.val()||!t.is(":checked"))&&o("#ywcdd_fee_is_taxable").is(":checked")?o("#ywcdd_fee_tax_class").parents("tr").removeClass("yith-disabled"):o("#ywcdd_fee_tax_class").parents("tr").addClass("yith-disabled"),o.each(["ywcdd_delivery_settings_title-description","ywcdd_timeslot_settings_title-description"],function(e,d){"product"===t.val()&&t.is(":checked")?o("#"+d).show():o("#"+d).hide()})}).trigger("change"),o("#ywcdd_ddm_enable_shipping_message").on("change",function(e){var d=o("#ywcdd_ddm_enable_delivery_message"),t=o("#ywcdd_ddm_where_show_delivery_message");"no"===o(this).val()&&"no"===d.val()?t.parents("tr").addClass("yith-disabled"):t.parents("tr").removeClass("yith-disabled")}),o("#ywcdd_ddm_enable_delivery_message").on("change",function(e){var d=o("#ywcdd_ddm_enable_shipping_message"),t=o("#ywcdd_ddm_where_show_delivery_message");"no"===o(this).val()&&"no"===d.val()?t.parents("tr").addClass("yith-disabled"):t.parents("tr").removeClass("yith-disabled")}),o("#yith_delivery_date_panel_processing-method").length&&(o(document).on("yith-toggle-change-counter",function(e,d,t){var a,i=t.attr("id");"yith_new_shipping_day_prod_add_box"===i?(a=t.find("#new_product").val(),d.val(a)):"yith_new_shipping_day_cat_add_box"===i&&(t=t.find("#new_category").val(),d.val(t))}),o(document).on("click",".ywcdd_add_range",function(e){e.preventDefault();var d=o(this).parent().parent(),t=d.find(".ywcdd_quantity_row"),e=t.find(".ywcdd_quantity_item").size(),d=d.data("row"),e=(d=o(d)).html().replace(/index/g,e);d.html(e),d.appendTo(t)}),o(document).on("click",".ywcdd_delete_range",function(e){e.preventDefault(),o(this).parents(".ywcdd_quantity_item").remove()}),o(document).on("yith-toggle-element-item-before-add",function(e,s,c,d){var t,a,r,l,i,n=s.checkRequiredFields(),_=s.attr("id");d.val(n),"yes"==n&&(t=s.find(".ywcdd_quantity_row .ywcdd_quantity_item"),r=0,n=l=a="","yith_new_shipping_day_cat_add_box"===_?(a="yith_new_shipping_day_cat",l=s.find("#new_category").val(),n="category"):"yith_new_shipping_day_prod_add_box"===_&&(a="yith_new_shipping_day_prod",l=s.find("#new_product").val(),n="product"),i=["from","to","day"],o.each(t,function(e,d){var n=a+"["+l+"][need_process_day]["+r+"]",_=o(t[0]).clone();o.each(i,function(e,d){var t,a=d+"_"+r+"_need_process_day_"+l,i=n+"["+d+"]";c.find("#"+a).length||(t="","from"==d?(_.find(".ywcdd_from").attr("id",a).attr("name",i),t=s.find("#from_"+r+"_new_need_process_day").val(),_.find(".ywcdd_from").val(t)):"to"==d?(_.find(".ywcdd_to").attr("id",a).attr("name",i),t=s.find("#to_"+r+"_new_need_process_day").val(),_.find(".ywcdd_to").val(t)):(_.find(".ywcdd_day").attr("id",a).attr("name",i),t=s.find("#day_"+r+"_new_need_process_day").val(),_.find(".ywcdd_day").val(t)),_.appendTo(c.find(".ywcdd_quantity_row")))}),r++}),n={field_selected:l,action:yith_delivery_parmas.actions.update_custom_processing_title,custom_type_title:n},o.ajax({type:"POST",url:yith_delivery_parmas.ajax_url,data:n,dataType:"json",success:function(e){"undefined"!=typeof e.title&&c.find("h3 .title").html(e.title)}}))}),o(document).on("yith-toggle-element-item-before-update",function(e,d,t){d=d.checkRequiredFields();t.val(d)}))});