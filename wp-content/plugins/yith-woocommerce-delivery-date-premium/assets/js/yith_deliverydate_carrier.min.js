jQuery(function(a){var n=function(e){var e=e.find(":input.yith-required-field"),d="yes";return a.each(e,function(e,t){var i=a(t).val();""===i||null===i?((a(t).hasClass("wc-enhanced-select")||a(t).hasClass("yith-post-search")||a(t).hasClass("yith-term-search")?a(t).parent().find(".select2.select2-container"):a(t)).addClass("ywcdd_required_field"),d="no"):(a(t).hasClass("wc-enhanced-select")||a(t).hasClass("yith-post-search")||a(t).hasClass("yith-term-search")?a(t).parent().find(".select2.select2-container"):a(t)).removeClass("ywcdd_required_field")}),d},i=function(){a(document).find(".yith_timepicker").timepicker({timeFormat:yith_delivery_parmas.timeformat,step:yith_delivery_parmas.timestep})},l=function(e){var t=e.find(".ywcdd_timeslot_name").val(),i=e.find(".yith_timepicker_from").val(),d=e.find(".yith_timepicker_to").val(),a=e.find("span.title").html(),n=e.find("div.subtitle").html(),t=a.replace("%%slot_name%%",t),i=(i=n.replace("%%timefrom%%",i)).replace("%%timeto%%",d);e.find("span.title").html(t),e.find("div.subtitle").html(i)};a(document).on("click",".yith_delivery_date_fields_container a.ywcdd_add_new_day",function(e){e.preventDefault();var t=a(".ywcdd_estimated_day_row").length,e=a(".ywcdd_field_list");template=wp.template("ywcdd-carrier-estimated-days"),template=a(template({index:t})),e.append(template)}),a(document).on("click",".ywcdd_field_list a.ywcdd_delete_range",function(e){e.preventDefault(),a(this).parents(".ywcdd_estimated_day_row").remove()}),a(document).on("yith-toggle-change-counter",function(e,t,i){var d;"_ywcdd_addtimeslot_add_box"===i.attr("id")&&(i=a("#post_ID").val(),(i="ywcdd_carrier_"+i+"_timeslot_")===undefined&&(i="_"),d===undefined&&(d=13),d=i+Math.random().toString(d).substr(2,d),t.val(d))}),a(document).on("yith-toggle-element-item-before-update",function(e,t,i,d){var a=n(i);d.val(a),"yes"===a&&l(i)}),a(document).on("yith-toggle-element-item-before-add",function(e,t,i,d){t=n(t);d.val(t),"yes"===t&&l(i)}),i(),a(document).on("yith-add-box-button-toggle",function(e,t){i()}).on("yith_save_toggle_element_done",function(e,t){i()}),yith_delivery_parmas.disable_timeslot_metabox&&a("#yit-carrier-time-slot-metaboxes #_ywcdd_addtimeslot").addClass("yith-disabled")});